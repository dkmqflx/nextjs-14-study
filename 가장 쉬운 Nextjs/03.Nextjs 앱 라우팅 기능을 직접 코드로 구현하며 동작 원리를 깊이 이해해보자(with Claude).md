- 오늘은 여러분과 함께 넥스트 JS 라우팅 기능에 대해서 코드 레벨에서 어떻게 구현되어 있는지를 살펴보려고 합니다

- 어 그러기 위해서는 우리가 깃허브 레포지토리 직접 가서 코드를 까볼 수 있는데요 그렇게 하지 않을 거예요

- 왜 그러냐면 어 넥스트 JS 라우팅 기능은, 공식 문서를 보면 Defining Routes뿐만 아니라 Dynamic Routes, Parallel Routes, 그리고 Intercept Routes 등 본질적인 라우팅 기능 외에도 부수적인 라우팅 기능들이 많이 있더라고요

  - [Routing Fundamentals](https://www.youtube.com/watch?v=6p0OiOu8t7s&list=PLpq56DBY9U2AyFtF0ajuFZX3IGgDIXgcb&index=3)

- 이렇게 모든 기능들을 같이 구현해 놓은 코드를 한꺼번에 까보게 되면 오히려 본질적인 기능을 이해하기가 조금 어려울 수 있겠더라고요

- 그래서 오늘은 직접 넥스트 JS 깃헙 레포지토리 가서 코드를 까보는 것이 아니라 생성 AI 와 함께 아 이런 식으로 넥스트 JS 라우팅 기능이 코드로 구현 되어 있겠구나를 한번 탐구해보려고 합니다

- 생성 AId의 프롬프팅을 이용해서 탐구해 보려고 해요

- 그래서 오늘 강의가 끝나면요 여러분이 두 가지를 얻게 되실 거예요

  - 첫 번째는 넥스트 JS 라우팅 기능이 어떻게 코드로 구현되어 있을까에 대한 간략한 멘탈 모델, 간략한 샘플 코드를 직접 저희가 코드도 구현해 볼 거에요

  - 두 번째는 이런 넥스트 JS 같은 프레임웍을 탐구할 때 어떻게 생성 AI 활용해서 탐구할 수 있을지, 생성 AI 활용 팁도 얻어 가실 수 있을 거예요

<br/>

- 그러면이 두 가지를 얻기 위해서 바로 강의 시작할게요. 넥스트 JS의 라우팅 기능은 Directory based에요

- 그런데 공식 홈페이지 Docs에 보면 디렉토리 베이스드 라우팅 기능이 어떤 식으로 코드로 구현되어 있는지에 대해서는 설명이 나와 있지 않아요

- 그래서 저희가 그 생성 AI 활용해서 같이 탐구해 볼 건데요 오늘은 생성 AI 중에서 클로드는 걸 쓸 거예요

  - [Claud](https://claude.ai/)

- 지금 클로드에서 Sonnet 3.5 이라는 모델 이 나왔는데 이게 chatGPT 보다 현재까지는 성능이 좋아요

- 그래서 오늘은 이 친구랑 같이 탐구를 해 볼 건데요 제가 미리 로프팅 좀 했어요 질문을 좀 했고 그래서 결과들을 보고 제가 코드로 옮겨봤는데 그 질문한 과정을 여러분께 좀 설명을 드릴 거예요 그래야 여러분이 아 생성 AI 활용해서 프레 공부를 할 때는 요런 식으로 하면 되겠구나 감을 좀 잡으실 수 있을 것 같아서요

- 그러면 가장 먼저 제가 했던 질문은 "How can Next.js 14(app router) route by directory-based ? please describe at the code level"

- 근데 대답해 준 내용이 보시면 넥스트 JS 14 라우터는 이런 식으로 해 하면서 디렉토리 스트럭처를 말하고 파일 컨벤션을 말하고 라우트 핸들러를 말해요

- 근데이 내용은 저희가 원하는게 아니잖아요 코드 레벨에서 설명해 줘 했더니 그냥 말 그대로 코드를 라우팅 기능을 구현한 코드를 답변을 해 준 거예요

- 근데 저희가 원하는 건 이게 아니라 내부적인 구현이아요이 부분은 공식 문서에도 다 나와 있는 부분이잖아요 그래서 제가 이걸 쭉 읽다가 질문을 조금 바꿨어요

- "I need I need the internal implements at thee level with http server node js" 라고 했는데 이 http 서버는 노드 JS 키워드 인데 이것은 제 머릿속에 있는 키워드인데 여러분도 쉽게 추측하지 있어요

- 넥스트 JS의 next dev cli 실행하게 되면 localhost:3000 번으로 접속할 수 있도록 포트를 열어 주잖아요 그 말인 즉슨 내부적으로 서버를 실행했다고 볼 수 있잖아요

- 그렇기 때문에 http 서버가 있을 것이다라고 추측을 한 거죠 그래서 http 서버를 활용해서 코드 레벨에서 내부적인 구현이 필요해 라고 했더니 얘가 이제 알려줬어요

<br/>

- 이후에도 정확한 결과가 나오지 않아 계속해서 프롬프팅을 수정하면서 질문을 하는 과정이 있다.

- 코드 결과를 실행해도 제대로 동작하지 않는데, 계속해서 질문을 하면서 프롬프팅을 해나간다.

  - 즉, 디버깅을 해나가면서 코드를 수정해나간다.

- 결과 코드 나오는 부분 (8:00)

- 주요 함수

  - mathRoutes

  - buildRoutes

- 즉, buildRoutes로 처음에 페이지를 만들어 놓고, mathRoutes를 통해서 매치되는 html을 응답해주는 것이다.
